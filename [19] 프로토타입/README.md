# 프로토타입이란?

JavaScript는 multiparadigm programming language로 프로토타입 기반의 객체 지향 언어로도 사용할 수 있다. 

# 상속과 프로토타입

생성자 함수를 이용하면 동일한 프로퍼티 구조를 가지는 객체를 생성하기 용이하다. 

```javascript
function Obj(state){
    this.state = 'state';
    this.getState() = function() {
        return this.state;
    }
}
```

위의 생성자 함수를 통하면 인스턴스를 생성할 수 있는데, `state`와 `getState`가 각 인스턴스의 프로퍼티가 된다. 하지만 getState의 경우 모든 인스턴스가 동일하게 사용하는 부분으로 인스턴스끼리 공유해서 사용할 수 있는 것이 바람직하다. 

```javascript
function Obj(state){
    this.state = 'state';
}

Obj.prototype.getState = function() {
        return this.state;
}
```

Obj의 prototype에 getState메서드를 추가한다. 이를 통해 Obj 생성자 함수를 통해서 생성된 인스턴스들은 getState함수를 상속받아서 사용할 수 있다. 

# 프로토티입의 생성 시점
프로토타입은 생성자 함수가 생성되는 시점에 생성자 함수와 한쌍으로 생성된다. 즉, 함수 중에 생성자 함수로 호출이 가능한 경우, 이 함수가 평가 되어 함수 객체가 생성될때 프로토타입까지 생성된다. 이때 생성된 프로토타입은 오직 `constructor 프로퍼티`만을 가진다. 

# 프로토타입 체인이란?

> 자바스크립트는 객체의 프로퍼티(메서드 포함)에 접근하려고 할 대 해당 객체에 접근하려는 프로퍼티가 없다면 [[prototype]] 내부 슬롯 참조를 따라 자신의 부모 역할을 하는 프로토타입의 프로퍼티를 순차적으로 검색한다. 이를 프로토타입 체인이라 한다. 프로토타입 체인은 자바스크립트가 객체지향 프로그래밍의 상속을 구현하는 매커니즘이다. - 모던 자바스크립트 딥다이브 p.286

즉, 프로토타입 체인을 통해서상송과 프로퍼티를 검색하는 매커니즘이 구현되어있고, 식별자의 경우 스코프 체인을 통해서 검색한다. 
`a.method()` 라는 코드의 경우, 스코프 체인을 통해 a 식별자를 검색한다음, a 객체의 프로토타입 체인 내에서 `method`라는 메서드를 찾는다. 

# Ref
- 모던 자바스크립트 딥다이브